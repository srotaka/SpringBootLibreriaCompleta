<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="ie=edge" http-equiv="X-UA-Compatible" />
    <meta content="Guía 16 - Ejercicio 01" name="description" />
    <meta content="Silvia R. Otaka" name="author" />
    <title>Librería - Iniciar Sesión</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="./img/favicon02.ico" />
    <!-- Font: Montserrat -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
    <!-- Font: Roboto -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
    <!-- Font: Carattere -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Carattere&display=swap" rel="stylesheet" />

    <!-- CSS -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.css}" />
    <link rel="stylesheet" th:href="@{/css/style.css}" />


    <!-- ALTERNATIVO -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
</head>

<body>
    <!-- ======= NAVBAR =======  -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-around fs-4" id="collapsibleNavbar">
            <a class="nav-link" th:href="@{/}"><img th:src="@{/img/logo.png}" width="200" height="40"></a>
            <ul class="navbar-nav">
                <div class="text-end">
                    <a class="btn btn-login float-right" th:href="@{/signup}" id="btn-registrar">Registrar Usuario</a>
                </div>
                <div>&nbsp;&nbsp;&nbsp;<span id="spanDate">today</span></div>
            </ul>
        </div>
    </nav>

    <!-- ======= END NAVBAR =======  -->

    <!-- ======= FORMULARIO =======  -->

    <br><br><br><br><br><br><br>
    <div th:if="${logout}" class="container mt-4 text-center">
        <div class="row col-md-4 mx-auto">
            <div th:text="${logout}" class="alert alert-success m-0 shadow"></div>
        </div>
    </div>

    <div th:if="${error}" class="container mt-4 text-center">
        <div class="row col-md-4 mx-auto">
            <div th:text="${error}" class="alert alert-danger m-0 shadow"></div>
        </div>
    </div>

    <section class="login-block">
        <div class="container">
            <div class="row">
                <div class="col-md-6 login-sec">
                    <h2 class="text-center">Iniciar Sesión</h2>
                    <form class="login-form">

                        <form id="formulario" class="needs-validation mb-4 form-login" th:action="@{/logincheck}"
                            method="POST" autocomplete="off" novalidate>
                            <label for="correo">Correo Electrónico</label>
                            <div class="form-group mb-3">
                                <input id="correo" type="email" name="correo" placeholder="Correo" class="form-control"
                                    required />
                                <div class="invalid-feedback text-start">El correo electrónico es obligatorio.</div>
                            </div>
                            <label for="clave">Contraseña</label>
                            <div class="form-group mb-3">
                                <input id="clave" type="password" name="clave" placeholder="Contraseña"
                                    class="form-control" required />
                                <div class="invalid-feedback text-start">La contraseña es obligatoria</div>
                            </div>

                            <div class="form-check">
                                <label class="form-check-label">
                                    <input type="checkbox" class="form-check-input">
                                    <small>Recordarme</small>
                                </label>

                                <button type="submit" class="btn btn-login float-right">Ingresar</button>

                            </div>
                        </form>
                </div>
                <div class="col-md-6 banner-sec">
                    <img class="wrapper img" style="background-image: url(img/contact-us-02.jpg)">
                    <div class="banner-text">
                        <h2>Sakura Corporation</h2>
                        <p>DONDE LA MAGIA ES REAL</p>
                    </div>
                </div>
            </div>
    </section>
    <!-- ======= END FORMULARIO =======  -->
    <div th:replace="utilities :: div-error"></div>
    <div th:replace="utilities :: div-exito"></div>
    <br><br><br><br><br>

    <!-- ======= FOOTER ======= -->
    <footer th:replace="utilities::footer"></footer>
    <!-- ======= END FOOTER ======= -->

    <!-- ======= JAVASCRIPT ======= -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <script>
        (() => {
            "use strict";
            const form = document.getElementById("formulario");
            form.addEventListener("submit", (event) => {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }

                form.classList.add("was-validated");
            }, false);
        })()
    </script>

    <!-- ======= CLOSING ALERT ======= -->
    <script type="text/javascript">
        setTimeout(function () {
            $(".alert").fadeTo(500, 0).slideUp(500, function () {
                $(".alert").remove();
            });
        }, 1100);
    </script>
    <!-- ======= FECHA ======= -->
    <script type="text/javascript">
        var months = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Deciembre'];
        var today = new Date();
        document.getElementById("spanDate").innerHTML = today.getDate() + " de " + months[today.getMonth()] + ", " + today.getFullYear();
    </script>

</body>

</html>